(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[950],{24943:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/solo/config-cluster",function(){return n(68048)}])},68048:function(e,s,n){"use strict";n.r(s);var r=n(85893),t=n(74905),i=n(67294),c=n(87536),o=n(79124),a=n(63792),l=n(72534),d=n(79225),u=n(11163),x=n(48847);function h(e,s,n){return s in e?Object.defineProperty(e,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[s]=n,e}function m(e){for(var s=1;s<arguments.length;s++){var n=null!=arguments[s]?arguments[s]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(s){h(e,s,n[s])}))}return e}var f=function(){var e=(0,d.o)((function(e){return e.clusterDefinition})),s=(0,c.cI)({mode:"onChange",defaultValues:{singleAddress:"",feeRecipientAddress:"",name:""}}),n=s.control,h=s.register,f=s.handleSubmit,p=s.formState,v=p.isDirty,j=p.isValid,g=s.setValue,b=(s.getValues,s.trigger),C=(0,u.useRouter)(),y=(0,d.o)((function(e){return e.completeSoloStep})),k=(0,d.o)((function(e){return e.enableSoloStep})),S=(0,d.o)((function(e){return e.updateClusterDefinition})),w=(0,l.kR)().account,$=((0,l.pZ)(w),(0,i.useState)((null===e||void 0===e?void 0:e.clusterSize)||4)),T=$[0],A=$[1],N=(0,l.D9)(T),z=(0,i.useState)((null===e||void 0===e?void 0:e.validatorsSize)||1),E=z[0],_=z[1],O=(0,i.useState)(),V=O[0],D=O[1],I=(0,i.useState)(),R=I[0],P=I[1];return(0,i.useEffect)((function(){E&&D(32*E)}),[E]),(0,i.useEffect)((function(){if(T){var e=(0,x.zT)(T);P(e)}}),[N,T]),(0,i.useEffect)((function(){g("singleAddress",null===e||void 0===e?void 0:e.singleAddress),g("feeRecipientAddress",null===e||void 0===e?void 0:e.feeRecipientAddress),(null===e||void 0===e?void 0:e.name)&&g("name",null===e||void 0===e?void 0:e.name,{shouldDirty:!0,shouldValidate:!0})}),[]),(0,r.jsxs)(o.kC,{direction:"column",css:{gap:"$2xl"},children:[(0,r.jsx)(t.xv,{variant:"h3",children:"Configure Cluster"}),(0,r.jsx)(o.l0,{onSubmit:f((function(e){y("config-cluster"),S(m({},e,{creator:{address:w},validatorsEthAmount:V,operators:[],nonOperatorFlag:!0}));var s=k("confirm-configuration");C.push(s.href)})),children:(0,r.jsxs)(o.kC,{direction:"column",css:{gap:"$2xl"},children:[(0,r.jsx)(t.W2,{className:"cluster-details",alignItems:"start",children:(0,r.jsxs)(o.kC,{direction:"column",css:{gap:"$2xl"},children:[(0,r.jsx)(t.xv,{variant:"h4",children:"Cluster Details"}),(0,r.jsxs)(o.kC,{direction:"column",className:"cluster-name-section",css:{gap:"$sm"},children:[(0,r.jsx)(t.xv,{css:{textTransform:"uppercase"},variant:"subline",color:"body",children:"Cluster Name"}),(0,r.jsx)(t.xv,{variant:"metadata",color:"muted",children:"Used to identify your group during configuration process"}),(0,r.jsx)(t.nv,m({},h("name",{required:!0}),{placeholder:"Super Validators",defaultValue:null===e||void 0===e?void 0:e.name}))]}),(0,r.jsxs)(o.kC,{direction:{"@sm":"column"},className:"cluster-size-section",css:{gap:"$3xl"},children:[(0,r.jsxs)(o.kC,{direction:"column",css:{gap:"$sm",width:"auto"},children:[(0,r.jsxs)(o.kC,{css:{alignItems:"center",gap:"$xxxs"},children:[(0,r.jsx)(t.xv,{css:{textTransform:"uppercase"},variant:"subline",color:"body",children:"Cluster Size"}),(0,r.jsx)(t.KZ,{content:"Cluster Size: The number of operators in the cluster. The minimum is 4, for now the maximum is capped at 15.",children:(0,r.jsx)(t.xu,{css:{display:"flex"},children:(0,r.jsx)(t.by,{})})})]}),(0,r.jsx)(a.fx,{name:"clusterSize",value:T,control:n,onChangeValue:function(e){return A(e)},min:4})]}),(0,r.jsxs)(o.kC,{direction:"column",css:{gap:"$sm",width:"auto"},children:[(0,r.jsxs)(o.kC,{css:{alignItems:"center",gap:"$xxxs"},children:[(0,r.jsx)(t.xv,{css:{textTransform:"uppercase"},variant:"subline",color:"body",children:"Threshold"}),(0,r.jsx)(t.KZ,{content:"Threshold: The number of nodes that need to be functioning for the validator to stay active.",children:(0,r.jsx)(t.xu,{css:{display:"flex"},children:(0,r.jsx)(t.by,{})})})]}),(0,r.jsx)(o.kC,{css:{height:"100%",alignItems:"center"},children:(0,r.jsx)(t.xv,{variant:"h5",css:{color:"$body"},children:"".concat(R,"/").concat(T)})})]})]}),(0,r.jsxs)(o.kC,{direction:"column",className:"operator-address-section",css:{gap:"$sm"},children:[(0,r.jsx)(t.xv,{css:{textTransform:"uppercase"},variant:"subline",color:"body",children:"Cluster Created By"}),(0,r.jsx)(t.xv,{color:"obolGreen",children:w})]})]})}),(0,r.jsxs)(t.W2,{className:"validators-section",alignItems:"start",children:[(0,r.jsxs)(o.kC,{direction:"column",css:{gap:"$xxxs"},children:[(0,r.jsx)(t.xv,{variant:"h4",children:"Validators"}),(0,r.jsx)(t.xv,{size:"4",color:"muted",children:"Select how many full ETH validators you want to run."})]}),(0,r.jsxs)(o.kC,{direction:{"@sm":"column"},css:{gap:"$xl",width:"auto"},children:[(0,r.jsxs)(o.kC,{direction:"column",css:{gap:"$xs"},children:[(0,r.jsx)(t.xv,{css:{textTransform:"uppercase"},variant:"subline",color:"body",children:"Validators"}),(0,r.jsx)(a.fx,{value:E,onChangeValue:function(e){_(Number(e))},name:"validatorsSize",control:n,max:250})]}),(0,r.jsxs)(o.kC,{direction:"column",css:{gap:"$xs"},children:[(0,r.jsx)(t.xv,{css:{textTransform:"uppercase"},variant:"subline",color:"body",children:"Cost"}),(0,r.jsxs)(o.kC,{css:{gap:"$xxs",height:"100%",alignItems:"center"},children:[(0,r.jsx)(t.Ee,{src:"/assets/eth-icon.svg",alt:"eth",width:24,height:24}),(0,r.jsxs)(t.xv,{css:{textTransform:"uppercase"},variant:"h5",children:[V," Eth"]})]})]})]})]}),(0,r.jsxs)(t.W2,{className:"withdrawal-section",css:{gap:"$xl"},alignItems:"start",children:[(0,r.jsx)(t.xv,{variant:"h4",children:"Withdrawal Address"}),(0,r.jsxs)(o.kC,{direction:"column",className:"single-address-section",css:{gap:"$sm"},children:[(0,r.jsxs)(o.kC,{css:{justifyContent:"space-between"},children:[(0,r.jsx)(t.xv,{color:"body",variant:"body",children:"Address to receive validator principal and rewards at exit"}),(0,r.jsx)(t.zx,{ghost:!0,css:{color:"$obolGreen",fontSize:"$1",p:0,height:"100%"},onClick:function(e){e.preventDefault(),g("singleAddress",w),b("singleAddress")},children:"Same as my wallet address"})]}),(0,r.jsx)(a.bQ,{control:n,name:"singleAddress"})]})]}),(0,r.jsxs)(t.W2,{className:"fee-recipient-section",css:{gap:"$xl"},alignItems:"start",children:[(0,r.jsx)(t.xv,{variant:"h4",children:"Fee Recipient"}),(0,r.jsxs)(o.kC,{direction:"column",className:"fee-recipient-address-section",css:{gap:"$sm"},children:[(0,r.jsxs)(o.kC,{css:{justifyContent:"space-between"},children:[(0,r.jsx)(t.xv,{color:"body",variant:"body",children:"Address to receive transaction fees from block proposals."}),(0,r.jsx)(t.zx,{ghost:!0,css:{color:"$obolGreen",fontSize:"$1",p:0,height:"100%"},onClick:function(e){e.preventDefault(),g("feeRecipientAddress",w),b("feeRecipientAddress")},children:"Same as my wallet address"})]}),(0,r.jsx)(a.bQ,{control:n,name:"feeRecipientAddress"})]})]}),(0,r.jsx)(o.kC,{direction:"column",children:(0,r.jsx)(t.zx,{color:"primary",type:"submit",disabled:!w||!j||!v,children:"Create Cluster Configuration"})})]})})]})};s.default=f,f.layout="SoloProgressTrackerLayout"}},function(e){e.O(0,[880,536,380,805,419,774,888,179],(function(){return s=24943,e(e.s=s);var s}));var s=e.O();_N_E=s}]);