(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[875],{58363:function(e,t){"use strict";t.Z=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",o=(e.type||"").toLowerCase(),i=o.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?r.toLowerCase().endsWith(t):t.endsWith("/*")?i===t.replace(/\/.*$/,""):o===t}))}return!0}},94017:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/deposit/upload-deposit-data",function(){return n(81225)}])},81225:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return oe}});var r=n(34051),o=n.n(r),i=n(85893),a=n(67294),c=n(79124),u=n(45697),s=n.n(u),l=n(70655),f=new Map([["avi","video/avi"],["gif","image/gif"],["ico","image/x-icon"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["mkv","video/x-matroska"],["mov","video/quicktime"],["mp4","video/mp4"],["pdf","application/pdf"],["png","image/png"],["zip","application/zip"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]]);function p(e,t){var n=function(e){var t=e.name;if(t&&-1!==t.lastIndexOf(".")&&!e.type){var n=t.split(".").pop().toLowerCase(),r=f.get(n);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}(e);if("string"!==typeof n.path){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:"string"===typeof t?t:"string"===typeof r&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}var d=[".DS_Store","Thumbs.db"];function g(e){return(0,l.mG)(this,void 0,void 0,(function(){return(0,l.Jh)(this,(function(t){return[2,(n=e,n.dataTransfer&&e.dataTransfer?y(e.dataTransfer,e.type):v(e))];var n}))}))}function v(e){return(null!==e.target&&e.target.files?h(e.target.files):[]).map((function(e){return p(e)}))}function y(e,t){return(0,l.mG)(this,void 0,void 0,(function(){var n;return(0,l.Jh)(this,(function(r){switch(r.label){case 0:return e.items?(n=h(e.items).filter((function(e){return"file"===e.kind})),"drop"!==t?[2,n]:[4,Promise.all(n.map(b))]):[3,2];case 1:return[2,m(D(r.sent()))];case 2:return[2,m(h(e.files).map((function(e){return p(e)})))]}}))}))}function m(e){return e.filter((function(e){return-1===d.indexOf(e.name)}))}function h(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function b(e){if("function"!==typeof e.webkitGetAsEntry)return w(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?k(t):w(e)}function D(e){return e.reduce((function(e,t){return(0,l.fl)(e,Array.isArray(t)?D(t):[t])}),[])}function w(e){var t=e.getAsFile();if(!t)return Promise.reject(e+" is not a File");var n=p(t);return Promise.resolve(n)}function O(e){return(0,l.mG)(this,void 0,void 0,(function(){return(0,l.Jh)(this,(function(t){return[2,e.isDirectory?k(e):j(e)]}))}))}function k(e){var t=e.createReader();return new Promise((function(e,n){var r=[];!function o(){var i=this;t.readEntries((function(t){return(0,l.mG)(i,void 0,void 0,(function(){var i,a,c;return(0,l.Jh)(this,(function(u){switch(u.label){case 0:if(t.length)return[3,5];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return i=u.sent(),e(i),[3,4];case 3:return a=u.sent(),n(a),[3,4];case 4:return[3,6];case 5:c=Promise.all(t.map(O)),r.push(c),o(),u.label=6;case 6:return[2]}}))}))}),(function(e){n(e)}))}()}))}function j(e){return(0,l.mG)(this,void 0,void 0,(function(){return(0,l.Jh)(this,(function(t){return[2,new Promise((function(t,n){e.file((function(n){var r=p(n,e.fullPath);t(r)}),(function(e){n(e)}))}))]}))}))}var x=n(58363);function C(e,t){return"application/x-moz-file"===e.type||(0,x.Z)(e,t)}function F(e,t,n){if(_(e.size)){if(_(t)&&_(n))return e.size>=t&&e.size<=n;if(_(t))return e.size>=t;if(_(n))return e.size<=n}return!0}function _(e){return void 0!==e&&null!==e}function P(e){var t=e.files,n=e.accept,r=e.minSize,o=e.maxSize;return!(!e.multiple&&t.length>1)&&t.every((function(e){return C(e,n)&&F(e,r,o)}))}function E(e){return"function"===typeof e.isPropagationStopped?e.isPropagationStopped():"undefined"!==typeof e.cancelBubble&&e.cancelBubble}function A(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e})):!!e.target&&!!e.target.files}function S(e){e.preventDefault()}function T(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}function R(e){return-1!==e.indexOf("Edge/")}function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return T(e)||R(e)}function L(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.some((function(t){return!E(e)&&t&&t.apply(void 0,[e].concat(r)),E(e)}))}}function I(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){o=!0,i=u}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(n,!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var W=(0,a.forwardRef)((function(e,t){var n=e.children,r=M(G(e,["children"])),o=r.open,i=G(r,["open"]);return(0,a.useImperativeHandle)(t,(function(){return{open:o}}),[o]),a.createElement(a.Fragment,null,n(K({},i,{open:o})))}));W.displayName="Dropzone",W.propTypes={children:s().func,accept:s().oneOfType([s().string,s().arrayOf(s().string)]),multiple:s().bool,preventDropOnDocument:s().bool,noClick:s().bool,noKeyboard:s().bool,noDrag:s().bool,noDragEventsBubbling:s().bool,minSize:s().number,maxSize:s().number,disabled:s().bool,getFilesFromEvent:s().func,onFileDialogCancel:s().func,onDragEnter:s().func,onDragLeave:s().func,onDragOver:s().func,onDrop:s().func,onDropAccepted:s().func,onDropRejected:s().func};var J={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],rejectedFiles:[]};function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.accept,n=e.disabled,r=void 0!==n&&n,o=e.getFilesFromEvent,i=void 0===o?g:o,c=e.maxSize,u=void 0===c?1/0:c,s=e.minSize,l=void 0===s?0:s,f=e.multiple,p=void 0===f||f,d=e.onDragEnter,v=e.onDragLeave,y=e.onDragOver,m=e.onDrop,h=e.onDropAccepted,b=e.onDropRejected,D=e.onFileDialogCancel,w=e.preventDropOnDocument,O=void 0===w||w,k=e.noClick,j=void 0!==k&&k,x=e.noKeyboard,_=void 0!==x&&x,T=e.noDrag,R=void 0!==T&&T,N=e.noDragEventsBubbling,W=void 0!==N&&N,M=(0,a.useRef)(null),q=(0,a.useRef)(null),H=(0,a.useReducer)(U,J),Y=$(H,2),X=Y[0],Z=Y[1],V=X.isFocused,Q=X.isFileDialogActive,ee=X.draggedFiles,te=(0,a.useCallback)((function(){q.current&&(Z({type:"openDialog"}),q.current.value=null,q.current.click())}),[Z]),ne=function(){Q&&setTimeout((function(){q.current&&(q.current.files.length||(Z({type:"closeDialog"}),"function"===typeof D&&D()))}),300)};(0,a.useEffect)((function(){return window.addEventListener("focus",ne,!1),function(){window.removeEventListener("focus",ne,!1)}}),[q,Q,D]);var re=(0,a.useCallback)((function(e){M.current&&M.current.isEqualNode(e.target)&&(32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),te()))}),[M,q]),oe=(0,a.useCallback)((function(){Z({type:"focus"})}),[]),ie=(0,a.useCallback)((function(){Z({type:"blur"})}),[]),ae=(0,a.useCallback)((function(){j||(z()?setTimeout(te,0):te())}),[q,j]),ce=(0,a.useRef)([]),ue=function(e){M.current&&M.current.contains(e.target)||(e.preventDefault(),ce.current=[])};(0,a.useEffect)((function(){return O&&(document.addEventListener("dragover",S,!1),document.addEventListener("drop",ue,!1)),function(){O&&(document.removeEventListener("dragover",S),document.removeEventListener("drop",ue))}}),[M,O]);var se=(0,a.useCallback)((function(e){e.preventDefault(),e.persist(),ye(e),-1===ce.current.indexOf(e.target)&&(ce.current=[].concat(I(ce.current),[e.target])),A(e)&&Promise.resolve(i(e)).then((function(t){E(e)&&!W||(Z({draggedFiles:t,isDragActive:!0,type:"setDraggedFiles"}),d&&d(e))}))}),[i,d,W]),le=(0,a.useCallback)((function(e){if(e.preventDefault(),e.persist(),ye(e),e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(t){}return A(e)&&y&&y(e),!1}),[y,W]),fe=(0,a.useCallback)((function(e){e.preventDefault(),e.persist(),ye(e);var t=ce.current.filter((function(t){return t!==e.target&&M.current&&M.current.contains(t)}));ce.current=t,t.length>0||(Z({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),A(e)&&v&&v(e))}),[M,v,W]),pe=(0,a.useCallback)((function(e){e.preventDefault(),e.persist(),ye(e),ce.current=[],A(e)&&Promise.resolve(i(e)).then((function(n){if(!E(e)||W){var r=[],o=[];n.forEach((function(e){C(e,t)&&F(e,l,u)?r.push(e):o.push(e)})),!p&&r.length>1&&o.push.apply(o,I(r.splice(0))),Z({acceptedFiles:r,rejectedFiles:o,type:"setFiles"}),m&&m(r,o,e),o.length>0&&b&&b(o,e),r.length>0&&h&&h(r,e)}})),Z({type:"reset"})}),[p,t,l,u,i,m,h,b,W]),de=function(e){return r?null:e},ge=function(e){return _?null:de(e)},ve=function(e){return R?null:de(e)},ye=function(e){W&&e.stopPropagation()},me=(0,a.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,o=e.onKeyDown,i=e.onFocus,a=e.onBlur,c=e.onClick,u=e.onDragEnter,s=e.onDragOver,l=e.onDragLeave,f=e.onDrop,p=G(e,["refKey","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"]);return K(B({onKeyDown:ge(L(o,re)),onFocus:ge(L(i,oe)),onBlur:ge(L(a,ie)),onClick:de(L(c,ae)),onDragEnter:ve(L(u,se)),onDragOver:ve(L(s,le)),onDragLeave:ve(L(l,fe)),onDrop:ve(L(f,pe))},n,M),r||_?{}:{tabIndex:0},{},p)}}),[M,re,oe,ie,ae,se,le,fe,pe,_,R,r]),he=(0,a.useCallback)((function(e){e.stopPropagation()}),[]),be=(0,a.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.refKey,r=void 0===n?"ref":n,o=e.onChange,i=e.onClick,a=G(e,["refKey","onChange","onClick"]),c=B({accept:t,multiple:p,type:"file",style:{display:"none"},onChange:de(L(o,pe)),onClick:de(L(i,he)),autoComplete:"off",tabIndex:-1},r,q);return K({},c,{},a)}}),[q,t,p,pe,r]),De=ee.length,we=De>0&&P({files:ee,accept:t,minSize:l,maxSize:u,multiple:p}),Oe=De>0&&!we;return K({},X,{isDragAccept:we,isDragReject:Oe,isFocused:V&&!r,getRootProps:me,getInputProps:be,rootRef:M,inputRef:q,open:de(te)})}function U(e,t){switch(t.type){case"focus":return K({},e,{isFocused:!0});case"blur":return K({},e,{isFocused:!1});case"openDialog":return K({},e,{isFileDialogActive:!0});case"closeDialog":return K({},e,{isFileDialogActive:!1});case"setDraggedFiles":var n=t.isDragActive;return K({},e,{draggedFiles:t.draggedFiles,isDragActive:n});case"setFiles":return K({},e,{acceptedFiles:t.acceptedFiles,rejectedFiles:t.rejectedFiles});case"reset":return K({},e,{isFileDialogActive:!1,isDragActive:!1,draggedFiles:[],acceptedFiles:[],rejectedFiles:[]});default:return e}}var q=n(74905),H=n(8507),Y=n(82705),X=n(79225),Z=n(43080),V=function(e){return!!((t=e).pubkey&&t.withdrawal_credentials&&t.amount&&t.signature&&t.deposit_message_root&&t.deposit_data_root&&t.fork_version&&t.network_name&&t.deposit_cli_version)&&"string"===typeof t.pubkey&&"string"===typeof t.withdrawal_credentials&&"number"===typeof t.amount&&"string"===typeof t.signature&&"string"===typeof t.deposit_message_root&&"string"===typeof t.deposit_data_root&&"string"===typeof t.fork_version&&"string"===typeof t.network_name&&"string"===typeof t.deposit_cli_version&&96===t.pubkey.length&&64===t.withdrawal_credentials.length&&192===t.signature.length&&64===t.deposit_message_root.length&&64===t.deposit_data_root.length&&8===t.fork_version.length&&!(t.amount<Z.do||t.amount>32*Z.jK);var t},Q=n(11163);function ee(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,o)}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){te(e,t,n[t])}))}return e}var re=function(){var e=(0,a.useState)(!1),t=e[0],n=e[1],r=(0,a.useState)(""),u=r[0],s=r[1],l=(0,a.useState)(null),f=(l[0],l[1]),p=(0,a.useState)(""),d=p[0],g=p[1],v=(0,X.o)((function(e){return e.setDepositData})),y=(0,Q.useRouter)(),m=(0,X.o)((0,a.useCallback)((function(e){return e.completeDepositStep}),[])),h=(0,X.o)((function(e){return e.enableDepositStep})),b=M({accept:"application/json",noClick:t,onDrop:function(e,t){if(s(""),null===t||void 0===t?void 0:t.length)s("That is not a valid deposit_data JSON file.");else if(1==e.length){var r=new FileReader;r.onload=function(){var t,r=(t=o().mark((function t(r){var i,a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.target)try{r.target.result&&"string"===typeof r.target.result&&(o=JSON.parse(r.target.result),(i=!!Array.isArray(o)&&o.map((function(e){if(V(e))return e;throw new Error("Missing required keys")})))?(g(e[0].name),v(i.map((function(e){return ne({},e,{transactionStatus:H.LN.READY,depositStatus:H.Er.READY_FOR_DEPOSIT})}))),n(!0)):(n(!1),s("not a valid ".concat(Z.rk," file"))))}catch(c){a=c.message,n(!1),s(a)}case 1:case"end":return t.stop()}var o}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){ee(i,r,o,a,c,"next",e)}function c(e){ee(i,r,o,a,c,"throw",e)}a(void 0)}))});return function(e){return r.apply(this,arguments)}}(),r.readAsText(e[0])}else s("Activate only one deposit file at a time")}}),D=b.isDragAccept,w=b.getRootProps,O=b.getInputProps,k=(0,a.useCallback)((function(){v([]),f(null),s(""),n(!1)}),[v]);return(0,i.jsxs)(c.kC,{direction:"column",css:{gap:"$2xl"},children:[(0,i.jsx)(q.xv,{variant:"h3",children:"Upload Deposit Data "}),(0,i.jsxs)(q.W2,{className:"enr-section",alignItems:"start",css:{gap:"$lg"},children:[(0,i.jsxs)(q.xv,{variant:"body",children:["Upload the ",(0,i.jsx)(q.xv,{variant:"pill",color:"create",children:Z.rk})," file you generated during the ceremony. It is located in the ",(0,i.jsx)(q.xv,{variant:"pill",color:"create",children:".charon/"})," subfolder."]}),(0,i.jsx)(c.kC,{css:{bc:"$bg03",p:"$2xl",boxSizing:"border-box"},children:(0,i.jsxs)(c.kC,ne({css:{flexDirection:"column",alignItems:"center"}},w({isDragAccept:D}),{children:[(0,i.jsx)("input",ne({},O())),(0,i.jsx)(Y.w,{isDragAccept:D,isFileAccepted:t}),(0,i.jsx)(q.xv,{css:{mt:"$lg",color:"$body",fontWeight:"$medium",fontSize:"$4",lineHeight:"24px"},children:t?(0,i.jsxs)(c.kC,{css:{gap:"$sm"},children:[d,(0,i.jsx)(q.xu,{onClick:k,children:(0,i.jsx)(q.Tw,{css:{color:"$obolGreen"}})})]}):u?(0,i.jsx)(q.xv,{variant:"metadata",color:"test",children:u}):"Upload a valid json file."})]}))}),(0,i.jsxs)(c.kC,{children:[(0,i.jsx)(q.zx,{css:{width:"25%",backgroundColor:"$bg03",color:"$body",marginRight:"$sm"},onClick:function(){y.push("/deposit/advisories")},children:"Back"}),(0,i.jsx)(q.zx,{fullWidth:!0,disabled:!t,onClick:function(){!function(){m("upload-deposit-data");var e=h("connect-wallet");y.push(e.href)}()},children:"Continue"})]})]})]})},oe=re;re.layout="DepositProgressTrackerLayout"},92703:function(e,t,n){"use strict";var r=n(50414);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},45697:function(e,t,n){e.exports=n(92703)()},50414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},function(e){e.O(0,[774,888,179],(function(){return t=94017,e(e.s=t);var t}));var t=e.O();_N_E=t}]);